<!DOCTYPE html>
<html lang="en">

<head>
	<title>Sleep analysis</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="css/style.css" rel="stylesheet">
	<link href="css/skeleton.css" rel="stylesheet">
	<link href="css/normalize.css" rel="stylesheet">
</head>

<body>

	<div>
		<canvas id="chart"></canvas>
	</div>
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

	<script>
		const ctx = document.getElementById('chart');
		const data = fetch('http://192.168.8.181:5000/data')
			.then(response => response.json())
			.then(data => {
				const labels = data['timestamp'];
				const values = data['hr'];
				const values2 = data['stress_score'];
				const myChart = new Chart(ctx, {
					type: 'line',
					data: {
						labels,
						datasets: [{
							label: 'hr',
							data: values,
							fill: false,
							borderColor: 'rgb(75, 192, 192)',
						}]
					},
					options: {
						animation: false,
						plugins: {
							decimation: {
								enabled: true,
								algorithm: 'min-max',
								samples: 3600 
							}
						}
					}
				});
			});
	</script>


</body>

</html>
